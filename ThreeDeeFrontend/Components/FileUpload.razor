@using System.Diagnostics
@inject IWebHostEnvironment Environment
@inject ISnackbar Snackbar
@attribute [Authorize]

@if (_isUploading)
{
    <MudButton Variant="Variant.Filled" Color="Color.Error" OnClick="Callback">CANCEL UPLOAD</MudButton>
}
else
{
    <MudFileUpload T="IBrowserFile" FilesChanged="async f => await UploadFiles(f)" MaximumFileCount="1" Style="margin: 0;">
        <ButtonTemplate>
            <MudButton HtmlTag="label"
                       Variant="Variant.Text"
                       StartIcon="@Icons.Material.Filled.CloudUpload"
                       for="@context">
                Upload Files
            </MudButton>
        </ButtonTemplate>
    </MudFileUpload>
}
